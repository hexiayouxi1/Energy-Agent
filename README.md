==============================================================================
                      HELIOS ENERGY AGENT
           AI-Powered Energy Strategy & Forecasting Tool
==============================================================================

1. OVERVIEW
------------------------------------------------------------------------------
Helios is an interactive dashboard designed for energy strategy consultants and 
policy analysts. It combines state-of-the-art Deep Learning time-series 
forecasting (N-BEATS, Transformers, etc.) with Large Language Models (LLMs) 
to predict energy adoption trends and generate strategic insights.

2. FEATURES
------------------------------------------------------------------------------
* Data Engine: Ingests energy consumption data (compatible with OWID format).
* Forecasting: Runs multi-horizon forecasts using:
  - N-BEATS
  - Transformers
  - LSTM (BlockRNN)
  - TCN
  - Linear Regression (Baseline)
* Analytics: Calculates Renewable Share, CO2 Emissions, and Decoupling metrics.
* Visualization: Interactive Plotly dashboards for Energy Mix and Adoption Gaps.
* AI Consultant: Chat with the data using:
  - OpenAI GPT-3.5/4 (API Mode)
  - Local Fine-tuned Models (Qwen/Llama + LoRA PEFT)

3. INSTALLATION
------------------------------------------------------------------------------
1. Ensure you have Python 3.9+ installed.
2. It is recommended to use a virtual environment (venv or conda).
3. Install dependencies:
   
   pip install -r requirements.txt

   *Note: For GPU acceleration (recommended for Darts and Local LLMs), ensure 
   you have the correct CUDA version of PyTorch installed.*

4. DATA FORMAT
------------------------------------------------------------------------------
The tool expects a CSV file in the format typically used by "Our World in Data".
Required columns (flexible case):
- Entity (or Country)
- Year
- [Source]_consumption (e.g., coal_consumption, solar_consumption, etc.)
- gdp (Optional, for covariates)
- population (Optional, for covariates)

Example structure:
Entity, Year, coal_consumption, solar_consumption, gdp
China,  2000, 10000,            0,                 2000000
China,  2001, 11000,            5,                 2200000
...

5. USAGE
------------------------------------------------------------------------------
1. Run the application:
   python app.py

2. Open the URL provided in the terminal (usually http://127.0.0.1:7860).

3. Workflow:
   a. Upload your CSV file in the "Configuration" panel.
   b. Click "Load Data".
   c. Select a Target Market (Country) and AI Model.
   d. Click "Generate Forecast".
   e. View the dashboard on the right.

6. LLM SETUP (Chat Feature)
------------------------------------------------------------------------------
You have three options for the "Helios Consultant" chat:

Option A: OpenAI API (Cloud)
- Enter your API Key in the "AI Analyst Setup" section.
- Click "Connect LLM".

Option B: Local LoRA Model (Private)
- Ensure you have a base model (e.g., Qwen/Qwen1.5-7B-Chat) and a LoRA adapter.
- Enter the paths in "Local LLM Setup".
  - Base Path: Path to the huggingface model folder.
  - LoRA Path: Path to your 'peft' output folder.
- Click "Load Local LoRA".
*Requires a GPU with sufficient VRAM.*

Option C: Mock Mode
- If no API key or Local model is loaded, the system uses a rule-based 
  mock responder for demonstration purposes.

==============================================================================
Disclaimer: Forecasts generated by AI models are probabilistic estimates 
based on historical data and do not guarantee future outcomes.
==============================================================================
